<div class="register-container">
    <h2 class="mb-4">Register</h2>
  
    <div *ngIf="errors.general" class="alert alert-danger">
      {{ errors.general }}
    </div>
  
    <form #regForm="ngForm" (ngSubmit)="onRegister(regForm)">
      <div class="mb-3">
        <label class="form-label">Full Name</label>
        <input
          type="text"
          class="form-control"
          name="fullname"
          [(ngModel)]="fullname"
          required
          #fullnameCtrl="ngModel"
          placeholder="John Doe"
        >
        <div *ngIf="fullnameCtrl.invalid && regForm.submitted" class="text-danger">
          {{ errors.fullname || 'Full name is required' }}
        </div>
      </div>
  
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input
          type="email"
          class="form-control"
          name="email"
          [(ngModel)]="email"
          required
          placeholder="Enter email"
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
          #emailCtrl="ngModel"
        >
        <div *ngIf="emailCtrl.invalid && regForm.submitted" class="text-danger">
          <div *ngIf="emailCtrl.errors?.required">Email is required</div>
          <div *ngIf="emailCtrl.errors?.pattern">Invalid email format</div>
          <div *ngIf="errors.email">{{ errors.email }}</div>
        </div>
      </div>
  
      <div class="mb-4">
        <label class="form-label">Password</label>
        <input
          type="password"
          class="form-control"
          name="password"
          [(ngModel)]="password"
          required
          placeholder="Password"
          minlength="6"
          #passwordCtrl="ngModel"
        >
        <div *ngIf="passwordCtrl.invalid && regForm.submitted" class="text-danger">
          <div *ngIf="passwordCtrl.errors?.required">Password is required</div>
          <div *ngIf="errors.password">{{ errors.password }}</div>
        </div>
      </div>
  
      <button 
        type="submit" 
        class="btn btn-primary w-100 mb-3"
        [disabled]="isLoading"
      >
        <span *ngIf="isLoading" 
          class="spinner-border spinner-border-sm me-2"
        ></span>
        Register
      </button>
  
      <div class="text-center">
        <a routerLink="/login" class="text-muted">
          Already have an account? Login
        </a>
      </div>
    </form>
  </div>