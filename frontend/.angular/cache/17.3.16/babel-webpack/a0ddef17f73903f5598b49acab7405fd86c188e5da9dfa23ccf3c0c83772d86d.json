{"ast":null,"code":"import { Router } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegisterComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errors.general, \" \");\n  }\n}\nfunction RegisterComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errors.fullname || \"Full name is required\", \" \");\n  }\n}\nfunction RegisterComponent_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Invalid email format\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_17_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.errors.email);\n  }\n}\nfunction RegisterComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_17_div_1_Template, 2, 0, \"div\", 20)(2, RegisterComponent_div_17_div_2_Template, 2, 0, \"div\", 20)(3, RegisterComponent_div_17_div_3_Template, 2, 1, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    const emailCtrl_r4 = i0.ɵɵreference(16);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", emailCtrl_r4.errors == null ? null : emailCtrl_r4.errors.required);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", emailCtrl_r4.errors == null ? null : emailCtrl_r4.errors.pattern);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.errors.email);\n  }\n}\nfunction RegisterComponent_div_23_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_23_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.errors.password);\n  }\n}\nfunction RegisterComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_23_div_1_Template, 2, 0, \"div\", 20)(2, RegisterComponent_div_23_div_2_Template, 2, 1, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    const passwordCtrl_r5 = i0.ɵɵreference(22);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", passwordCtrl_r5.errors == null ? null : passwordCtrl_r5.errors.required);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.errors.password);\n  }\n}\nfunction RegisterComponent_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 21);\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    authService;\n    router;\n    fullname = '';\n    email = '';\n    password = '';\n    errors = {};\n    isLoading = false;\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n    }\n    onRegister(form) {\n      if (form.invalid) return;\n      this.isLoading = true;\n      this.errors = {};\n      const payload = {\n        fullname: this.fullname.trim(),\n        email: this.email.trim().toLowerCase(),\n        password: this.password\n      };\n      this.authService.register(payload).subscribe({\n        next: () => {\n          this.router.navigate(['/']);\n          this.isLoading = false;\n        },\n        error: err => {\n          this.isLoading = false;\n          if (err.status === 400 && err.error?.fieldErrors) {\n            this.errors = err.error.fieldErrors;\n          } else {\n            this.errors.general = 'Registration failed. Please try again.';\n          }\n        }\n      });\n    }\n    static ɵfac = function RegisterComponent_Factory(t) {\n      return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterComponent,\n      selectors: [[\"app-register\"]],\n      decls: 30,\n      vars: 9,\n      consts: [[\"regForm\", \"ngForm\"], [\"fullnameCtrl\", \"ngModel\"], [\"emailCtrl\", \"ngModel\"], [\"passwordCtrl\", \"ngModel\"], [1, \"register-container\"], [1, \"mb-4\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"name\", \"fullname\", \"required\", \"\", \"placeholder\", \"John Doe\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", \"placeholder\", \"Enter email\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", \"placeholder\", \"Password\", \"minlength\", \"6\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"w-100\", \"mb-3\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-2\", 4, \"ngIf\"], [1, \"text-center\"], [\"routerLink\", \"/login\", 1, \"text-muted\"], [1, \"alert\", \"alert-danger\"], [1, \"text-danger\"], [4, \"ngIf\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"]],\n      template: function RegisterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 4)(1, \"h2\", 5);\n          i0.ɵɵtext(2, \"Register\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, RegisterComponent_div_3_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementStart(4, \"form\", 7, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_4_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const regForm_r3 = i0.ɵɵreference(5);\n            return i0.ɵɵresetView(ctx.onRegister(regForm_r3));\n          });\n          i0.ɵɵelementStart(6, \"div\", 8)(7, \"label\", 9);\n          i0.ɵɵtext(8, \"Full Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 10, 1);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_9_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.fullname, $event) || (ctx.fullname = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, RegisterComponent_div_11_Template, 2, 1, \"div\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 8)(13, \"label\", 9);\n          i0.ɵɵtext(14, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"input\", 12, 2);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_15_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(17, RegisterComponent_div_17_Template, 4, 3, \"div\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 5)(19, \"label\", 9);\n          i0.ɵɵtext(20, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"input\", 13, 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_21_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(23, RegisterComponent_div_23_Template, 3, 2, \"div\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 14);\n          i0.ɵɵtemplate(25, RegisterComponent_span_25_Template, 1, 0, \"span\", 15);\n          i0.ɵɵtext(26, \" Register \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"div\", 16)(28, \"a\", 17);\n          i0.ɵɵtext(29, \" Already have an account? Login \");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          const regForm_r3 = i0.ɵɵreference(5);\n          const fullnameCtrl_r6 = i0.ɵɵreference(10);\n          const emailCtrl_r4 = i0.ɵɵreference(16);\n          const passwordCtrl_r5 = i0.ɵɵreference(22);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errors.general);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.fullname);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", fullnameCtrl_r6.invalid && regForm_r3.submitted);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", emailCtrl_r4.invalid && regForm_r3.submitted);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", passwordCtrl_r5.invalid && regForm_r3.submitted);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.PatternValidator, i4.NgModel, i4.NgForm, i2.RouterLink],\n      styles: [\".register-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#205375;font-weight:700}.register-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid #dee2e6;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.register-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#205375;box-shadow:0 0 0 .25rem #20537540}.register-container[_ngcontent-%COMP%]   .form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.register-container[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{font-size:.875em;color:#dc3545;margin-top:.25rem}.register-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#205375;border:none;transition:background-color .3s ease}.register-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#15374d}.register-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;opacity:.65;cursor:not-allowed}.register-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.register-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#205375;text-decoration:none;font-weight:500}.register-container[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:4px;padding:.75rem 1.25rem;margin-bottom:1rem}.register-container[_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border-color:#f5c6cb;color:#721c24}@media (max-width: 576px){.register-container[_ngcontent-%COMP%]{margin:1rem;padding:1.5rem;box-shadow:none;border:1px solid #dee2e6}.register-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:16px}}\"]\n    });\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}